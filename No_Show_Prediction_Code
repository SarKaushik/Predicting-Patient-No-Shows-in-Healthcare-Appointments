import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
from sklearn.linear_model import LogisticRegression
from sklearn.model_selection import train_test_split, cross_val_score
from sklearn.preprocessing import StandardScaler

from sklearn.metrics import (
    accuracy_score, precision_score, recall_score, f1_score,
    confusion_matrix, classification_report, roc_auc_score, roc_curve
)


##Load Dataset
df =pd.read_csv('C:/Users/sarve/OneDrive/Desktop/Logistick Regression Healthcare Project/noshowappointments.csv')



#Preprocessing
df['ScheduledDay'] = pd.to_datetime(df['ScheduledDay'])
df['AppointmentDay'] = pd.to_datetime(df['AppointmentDay'])
df['WaitTime'] = (df['AppointmentDay'] - df['ScheduledDay']).dt.days
df['No-show'] = df['No-show'].map({'No': 0, 'Yes': 1})


# data cleaning drop irrelivant columns

df = df.drop(columns = ['PatientId','AppointmentID'])



# Remove negative wait times
df = df[df['WaitTime'] >= 0]

# Encode categorical variables
df = pd.get_dummies(df, columns=['Gender', 'Neighbourhood'], drop_first=True)
